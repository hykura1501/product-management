extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/product-layout.pug

block main 
  .container
    .content-wrapper
      // Row start
      .row.gutters
        .col-xl-12.col-lg-12.col-md-12.col-sm-12.col-12
          .card.m-0
            // Row start
            .row.no-gutters
              .col-xl-4.col-lg-4.col-md-4.col-sm-3.col-3
                .users-container
                  .chat-search-box
                    .input-group
                      input.form-control(placeholder='Search')
                      .input-group-btn
                        button.btn.btn-info(type='button')
                          i.fa.fa-search
                  ul.users
                    li.person(data-chat='person1')
                      .user
                        img(src='https://www.bootdey.com/img/Content/avatar/avatar3.png' alt='Retail Admin')
                        span.status.busy
                      p.name-time
                        span.name Steve Bangalter
                        span.time 15/02/2019
                    li.person(data-chat='person1')
                      .user
                        img(src='https://www.bootdey.com/img/Content/avatar/avatar1.png' alt='Retail Admin')
                        span.status.offline
                      p.name-time
                        span.name Steve Bangalter
                        span.time 15/02/2019
                    li.person.active-user(data-chat='person2')
                      .user
                        img(src='https://www.bootdey.com/img/Content/avatar/avatar2.png' alt='Retail Admin')
                        span.status.away
                      p.name-time
                        span.name Peter Gregor
                        span.time 12/02/2019
                    li.person(data-chat='person3')
                      .user
                        img(src='https://www.bootdey.com/img/Content/avatar/avatar3.png' alt='Retail Admin')
                        span.status.busy
                      p.name-time
                        span.name Jessica Larson
                        span.time 11/02/2019
                    li.person(data-chat='person4')
                      .user
                        img(src='https://www.bootdey.com/img/Content/avatar/avatar4.png' alt='Retail Admin')
                        span.status.offline
                      p.name-time
                        span.name Lisa Guerrero
                        span.time 08/02/2019
                    li.person(data-chat='person5')
                      .user
                        img(src='https://www.bootdey.com/img/Content/avatar/avatar5.png' alt='Retail Admin')
                        span.status.away
                      p.name-time
                        span.name Michael Jordan
                        span.time 05/02/2019
              .col-xl-8.col-lg-8.col-md-8.col-sm-9.col-9
                .selected-user
                  span
                    | To: 
                    span.name Emily Russell
                div(my_id=user.id).chat-container
                  ul.chat-box.chatContainerScroll
                    each chat in chats 
                      if(chat.user_id == user.id)
                        li.chat-right
                          div(class="chat-infor-right")
                            .chat-hour
                              | 08:56 
                              span.fa.fa-check-circle
                            if(chat.content)
                              .chat-text=chat.content
                            .chat-avatar
                              img(src='https://www.bootdey.com/img/Content/avatar/avatar3.png' class="chat-avatar" alt='Retail Admin')
                              .chat-name=chat.inforUser.fullName
                          if(chat.images.length > 0)
                            div(class="box-chat-image-right chat-image")
                                each image in chat.images
                                  img(src=image, alt="", srcset="" class="chat-image-right")
                      else
                        li.chat-left
                          div(class="chat-infor-left")
                            .chat-avatar
                              img(src='https://www.bootdey.com/img/Content/avatar/avatar3.png' class="chat-avatar" alt='Retail Admin')
                              .chat-name=chat.inforUser.fullName
                            if(chat.content)
                              .chat-text=chat.content
                            .chat-hour
                              | 08:56 
                              span.fa.fa-check-circle
                          if(chat.images.length > 0)
                            div(class="box-chat-image-left chat-image")
                                each image in chat.images
                                  img(src=image, alt="", srcset="" class="chat-image-left")
                  div(class="custom-file-container" data-upload-id="list_img")
                  form.form-group.mt-3.mb-4.d-flex.form-input-message
                    input.form-control(rows='3' placeholder='Nhập tin nhắn' name="message")
                    label(for="file-upload-with-preview-list_img" class="btn") 
                      <i class="fa-regular fa-image"></i>
                    span(class="buttonIcon btn") 
                      <i class="fa-regular fa-face-smile"></i>
                    div(class="tooltip" role="tooltip")
                      emoji-picker.light
                    button(type="submit" class="btn")
                      i.fa-solid.fa-paper-plane
    
